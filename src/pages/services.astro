---
import BaseLayout from '../layouts/BaseLayout.astro';
import { getTranslation, getUserLocale } from '../utils/i18n';

// Use the user's preferred language instead of hardcoding
const locale = getUserLocale(); 
const t = (key) => getTranslation(key, locale);

// All translations are already in the JSON files, so we don't need to define them here
---

<BaseLayout title={t('services-title')} description={t('services-subtitle')} locale={locale}>
  
  <!-- Hero Section -->
  <section class="pt-32 pb-16 relative overflow-hidden">
    <div class="absolute inset-0 bg-gradient-to-b from-secondary/80 to-secondary"></div>
    
    <div class="container mx-auto px-4 relative z-10">
      <div class="max-w-4xl mx-auto text-center">
        <h1 class="text-5xl md:text-6xl font-bold text-white mb-6">
          <span data-i18n="services-title">{t('services-title')}</span> <span class="text-primary" data-i18n="services-professionally">Profesionales</span>
        </h1>
        <p class="text-xl text-white/90 mb-12" data-i18n="services-subtitle">{t('services-subtitle')}</p>
      </div>
    </div>
  </section>

  <!-- Services Details Section -->
  <section class="py-16 bg-secondary/30">
    <div class="container mx-auto px-4">
      <div class="max-w-6xl mx-auto">
        <h2 class="text-3xl font-bold text-center mb-12 text-primary">
          <span class="relative inline-block" data-i18n="services-solutions">
            Nuestras Soluciones Profesionales
            <span class="absolute -bottom-2 left-0 w-full h-1 bg-primary/60 rounded-full"></span>
          </span>
        </h2>

        <!-- Service 1 -->
        <div class="service-card mb-16 bg-secondary/40 rounded-2xl overflow-hidden transition-transform hover:scale-[1.01] duration-300 shadow-lg">
          <div class="grid md:grid-cols-2 gap-8">
            <div class="p-8 flex flex-col justify-center">
              <div class="flex items-center mb-4">
                <span class="text-primary text-4xl mr-4"><i class="fas fa-server"></i></span>
                <h3 class="text-2xl font-bold text-white" data-i18n="service-1">{t('service-1')}</h3>
              </div>
              <p class="text-white/90 mb-6" data-i18n="service-1-desc">
                Diseñamos servidores personalizados que se adaptan a tus objetivos específicos y a la experiencia que deseas ofrecer a tu comunidad. Desde servidores temáticos hasta redes completas con múltiples modos de juego, creamos soluciones únicas.
              </p>
              
              <h4 class="text-xl font-semibold text-primary mb-4" data-i18n="service-1-includes">Incluye:</h4>
              <ul class="space-y-3 mb-8">
                <li class="flex items-start">
                  <i class="fas fa-check-circle text-primary mt-1 mr-3"></i>
                  <span class="text-white/90" data-i18n="service-1-item-1">Configuración completa del servidor ajustada a tus especificaciones</span>
                </li>
                <li class="flex items-start">
                  <i class="fas fa-check-circle text-primary mt-1 mr-3"></i>
                  <span class="text-white/90" data-i18n="service-1-item-2">Instalación y configuración de plugins esenciales</span>
                </li>
                <li class="flex items-start">
                  <i class="fas fa-check-circle text-primary mt-1 mr-3"></i>
                  <span class="text-white/90" data-i18n="service-1-item-3">Optimización para garantizar rendimiento y estabilidad</span>
                </li>
                <li class="flex items-start">
                  <i class="fas fa-check-circle text-primary mt-1 mr-3"></i>
                  <span class="text-white/90" data-i18n="service-1-item-4">Configuración de sistemas de permisos y grupos</span>
                </li>
              </ul>
            </div>
            <div class="bg-cover bg-center h-full min-h-[300px] bg-no-repeat" style="background-image: url('/imgs/services/server-setup.webp'); background-size: contain; background-position: center;">
            </div>
          </div>
        </div>

        <!-- Service 2 -->
        <div class="service-card mb-16 bg-secondary/40 rounded-2xl overflow-hidden transition-transform hover:scale-[1.01] duration-300 shadow-lg">
          <div class="grid md:grid-cols-2 gap-8">
            <div class="bg-cover bg-center h-full min-h-[300px] order-2 md:order-1 bg-no-repeat" style="background-image: url('/imgs/services/server-management.webp'); background-size: contain; background-position: center;">
            </div>
            <div class="p-8 flex flex-col justify-center order-1 md:order-2">
              <div class="flex items-center mb-4">
                <span class="text-primary text-4xl mr-4"><i class="fas fa-tools"></i></span>
                <h3 class="text-2xl font-bold text-white" data-i18n="service-2">{t('service-2')}</h3>
              </div>
              <p class="text-white/90 mb-6" data-i18n="service-2-desc">
                Nos encargamos de todos los aspectos técnicos para que tú puedas centrarte en gestionar tu comunidad. Mantenemos tu servidor actualizado, seguro y optimizado en todo momento.
              </p>
              
              <h4 class="text-xl font-semibold text-primary mb-4" data-i18n="service-2-includes">Incluye:</h4>
              <ul class="space-y-3 mb-8">
                <li class="flex items-start">
                  <i class="fas fa-check-circle text-primary mt-1 mr-3"></i>
                  <span class="text-white/90" data-i18n="service-2-item-1">Actualizaciones regulares de software y plugins</span>
                </li>
                <li class="flex items-start">
                  <i class="fas fa-check-circle text-primary mt-1 mr-3"></i>
                  <span class="text-white/90" data-i18n="service-2-item-2">Copias de seguridad programadas</span>
                </li>
                <li class="flex items-start">
                  <i class="fas fa-check-circle text-primary mt-1 mr-3"></i>
                  <span class="text-white/90" data-i18n="service-2-item-3">Monitorización de rendimiento y seguridad</span>
                </li>
                <li class="flex items-start">
                  <i class="fas fa-check-circle text-primary mt-1 mr-3"></i>
                  <span class="text-white/90" data-i18n="service-2-item-4">Resolución rápida de problemas</span>
                </li>
              </ul>
            </div>
          </div>
        </div>

        <!-- Service 3 -->
        <div class="service-card mb-16 bg-secondary/40 rounded-2xl overflow-hidden transition-transform hover:scale-[1.01] duration-300 shadow-lg">
          <div class="grid md:grid-cols-2 gap-8">
            <div class="p-8 flex flex-col justify-center">
              <div class="flex items-center mb-4">
                <span class="text-primary text-4xl mr-4"><i class="fas fa-cubes"></i></span>
                <h3 class="text-2xl font-bold text-white" data-i18n="service-3">{t('service-3')}</h3>
              </div>
              <p class="text-white/90 mb-6" data-i18n="service-3-desc">
                Creamos modpacks equilibrados y optimizados con mecánicas innovadoras que ofrecen experiencias únicas para tus jugadores. Cada modpack se desarrolla pensando en rendimiento y diversión.
              </p>
              
              <h4 class="text-xl font-semibold text-primary mb-4" data-i18n="service-3-includes">Incluye:</h4>
              <ul class="space-y-3 mb-8">
                <li class="flex items-start">
                  <i class="fas fa-check-circle text-primary mt-1 mr-3"></i>
                  <span class="text-white/90" data-i18n="service-3-item-1">Selección cuidadosa de mods compatibles</span>
                </li>
                <li class="flex items-start">
                  <i class="fas fa-check-circle text-primary mt-1 mr-3"></i>
                  <span class="text-white/90" data-i18n="service-3-item-2">Configuración personalizada para una experiencia balanceada</span>
                </li>
                <li class="flex items-start">
                  <i class="fas fa-check-circle text-primary mt-1 mr-3"></i>
                  <span class="text-white/90" data-i18n="service-3-item-3">Optimización para minimizar el impacto en rendimiento</span>
                </li>
                <li class="flex items-start">
                  <i class="fas fa-check-circle text-primary mt-1 mr-3"></i>
                  <span class="text-white/90" data-i18n="service-3-item-4">Instalador personalizado para facilitar la distribución</span>
                </li>
              </ul>
            </div>
            <div class="bg-cover bg-center h-full min-h-[300px] bg-no-repeat" style="background-image: url('/imgs/services/modpack-dev.webp'); background-size: contain; background-position: center;">
            </div>
          </div>
        </div>

        <!-- Service 4 -->
        <div class="service-card mb-16 bg-secondary/40 rounded-2xl overflow-hidden transition-transform hover:scale-[1.01] duration-300 shadow-lg">
          <div class="grid md:grid-cols-2 gap-8">
            <div class="bg-cover bg-center h-full min-h-[300px] order-2 md:order-1 bg-no-repeat" style="background-image: url('/imgs/services/installer.webp'); background-size: contain; background-position: center;">
            </div>
            <div class="p-8 flex flex-col justify-center order-1 md:order-2">
              <div class="flex items-center mb-4">
                <span class="text-primary text-4xl mr-4"><i class="fas fa-download"></i></span>
                <h3 class="text-2xl font-bold text-white" data-i18n="service-4-title">Instalador personalizado para modpacks</h3>
              </div>
              <p class="text-white/90 mb-6" data-i18n="service-4-desc">
                Nuestro instalador privado con interfaz gráfica intuitiva descarga automáticamente el modpack, crea el perfil del servidor en el juego y permite conectarse con solo pulsar un botón, facilitando enormemente la experiencia de usuario.
              </p>
              
              <h4 class="text-xl font-semibold text-primary mb-4" data-i18n="service-4-includes">Incluye:</h4>
              <ul class="space-y-3 mb-8">
                <li class="flex items-start">
                  <i class="fas fa-check-circle text-primary mt-1 mr-3"></i>
                  <span class="text-white/90" data-i18n="service-4-item-1">Interfaz gráfica personalizada con la temática del servidor</span>
                </li>
                <li class="flex items-start">
                  <i class="fas fa-check-circle text-primary mt-1 mr-3"></i>
                  <span class="text-white/90" data-i18n="service-4-item-2">Descarga automática de modpacks y dependencias</span>
                </li>
                <li class="flex items-start">
                  <i class="fas fa-check-circle text-primary mt-1 mr-3"></i>
                  <span class="text-white/90" data-i18n="service-4-item-3">Creación del perfil Forge/Fabric con memoria optimizada</span>
                </li>
                <li class="flex items-start">
                  <i class="fas fa-check-circle text-primary mt-1 mr-3"></i>
                  <span class="text-white/90" data-i18n="service-4-item-4">Conexión one-click al servidor sin configuración manual</span>
                </li>
              </ul>
            </div>
          </div>
        </div>

        <!-- Service 5 -->
        <div class="service-card mb-16 bg-secondary/40 rounded-2xl overflow-hidden transition-transform hover:scale-[1.01] duration-300 shadow-lg">
          <div class="grid md:grid-cols-2 gap-8">
            <div class="p-8 flex flex-col justify-center">
              <div class="flex items-center mb-4">
                <span class="text-primary text-4xl mr-4"><i class="fas fa-cloud"></i></span>
                <h3 class="text-2xl font-bold text-white" data-i18n="service-5">{t('service-5')}</h3>
              </div>
              <p class="text-white/90 mb-6" data-i18n="service-5-desc">
                Proporcionamos soluciones de hosting optimizadas específicamente para servidores Minecraft, con hardware de alto rendimiento, protección contra DDoS y soporte técnico especializado.
              </p>
              
              <h4 class="text-xl font-semibold text-primary mb-4" data-i18n="service-5-includes">Incluye:</h4>
              <ul class="space-y-3 mb-8">
                <li class="flex items-start">
                  <i class="fas fa-check-circle text-primary mt-1 mr-3"></i>
                  <span class="text-white/90" data-i18n="service-5-item-1">Servidores con CPUs de alta frecuencia para mejor TPS</span>
                </li>
                <li class="flex items-start">
                  <i class="fas fa-check-circle text-primary mt-1 mr-3"></i>
                  <span class="text-white/90" data-i18n="service-5-item-2">Protección anti-DDoS avanzada</span>
                </li>
                <li class="flex items-start">
                  <i class="fas fa-check-circle text-primary mt-1 mr-3"></i>
                  <span class="text-white/90" data-i18n="service-5-item-3">Panel de control fácil de usar</span>
                </li>
                <li class="flex items-start">
                  <i class="fas fa-check-circle text-primary mt-1 mr-3"></i>
                  <span class="text-white/90" data-i18n="service-5-item-4">Soporte técnico 24/7</span>
                </li>
              </ul>
            </div>
            <div class="bg-cover bg-center h-full min-h-[300px] bg-no-repeat" style="background-image: url('/imgs/services/hosting.webp'); background-size: contain; background-position: center;">
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- CTA Section -->
  <section class="py-20 bg-gradient-to-b from-secondary/50 to-secondary">
    <div class="container mx-auto px-4">
      <div class="max-w-4xl mx-auto text-center">
        <h2 class="text-3xl font-bold text-white mb-6" data-i18n="cta-ready">{t('cta-ready')}</h2>
        <p class="text-xl text-white/90 mb-8" data-i18n="cta-contact">{t('cta-contact')}</p>
        
        <div class="flex flex-col sm:flex-row justify-center gap-4 mb-12">
          <a href="/#contacto" class="px-8 py-4 rounded-lg bg-primary text-white font-bold shadow-glow hover:shadow-lg hover:bg-primary/90 hover:-translate-y-1 transition-all duration-300" data-i18n="request-quote">
            {t('request-quote')}
          </a>
          <a href="https://discord.com/invite/UJZRrcUFMj" target="_blank" class="px-8 py-4 rounded-lg bg-white/10 backdrop-blur-sm text-white font-bold border border-white/20 hover:bg-white/20 hover:-translate-y-1 transition-all duration-300">
            <i class="fab fa-discord mr-2"></i> <span data-i18n="discord-chat">{t('discord-chat')}</span>
          </a>
        </div>
        
        <div class="flex justify-center space-x-8">
          <div class="text-center">
            <div class="text-4xl font-bold text-primary mb-2">100+</div>
            <div class="text-white/80" data-i18n="projects-completed">{t('projects-completed')}</div>
          </div>
          <div class="text-center">
            <div class="text-4xl font-bold text-primary mb-2">99%</div>
            <div class="text-white/80" data-i18n="satisfied-clients">{t('satisfied-clients')}</div>
          </div>
          <div class="text-center">
            <div class="text-4xl font-bold text-primary mb-2">24/7</div>
            <div class="text-white/80" data-i18n="technical-support">{t('technical-support')}</div>
          </div>
        </div>
      </div>
    </div>
  </section>
  
  <!-- FAQ Section -->
  <section class="py-16 bg-secondary/30">
    <div class="container mx-auto px-4">
      <div class="max-w-4xl mx-auto">
        <h2 class="text-3xl font-bold text-center mb-12 text-primary">
          <span class="relative inline-block" data-i18n="faq-title">
            {t('faq-title')}
            <span class="absolute -bottom-2 left-0 w-full h-1 bg-primary/60 rounded-full"></span>
          </span>
        </h2>
        
        <div class="space-y-6">
          <div class="faq-item bg-secondary/40 rounded-xl p-6 hover:bg-secondary/60 transition-all duration-300 cursor-pointer">
            <div class="flex justify-between items-center">
              <h3 class="text-xl font-bold text-white mb-0" data-i18n="faq-development-time">{t('faq-development-time')}</h3>
              <span class="faq-icon text-primary text-xl transition-transform duration-300"><i class="fas fa-chevron-down"></i></span>
            </div>
            <p class="text-white/80 mt-4 faq-content" data-i18n="faq-development-time-answer">{t('faq-development-time-answer')}</p>
          </div>
          
          <div class="faq-item bg-secondary/40 rounded-xl p-6 hover:bg-secondary/60 transition-all duration-300 cursor-pointer">
            <div class="flex justify-between items-center">
              <h3 class="text-xl font-bold text-white mb-0" data-i18n="faq-server-types">{t('faq-server-types')}</h3>
              <span class="faq-icon text-primary text-xl transition-transform duration-300"><i class="fas fa-chevron-down"></i></span>
            </div>
            <p class="text-white/80 mt-4 faq-content" data-i18n="faq-server-types-answer">{t('faq-server-types-answer')}</p>
          </div>
          
          <div class="faq-item bg-secondary/40 rounded-xl p-6 hover:bg-secondary/60 transition-all duration-300 cursor-pointer">
            <div class="flex justify-between items-center">
              <h3 class="text-xl font-bold text-white mb-0" data-i18n="faq-maintenance">{t('faq-maintenance')}</h3>
              <span class="faq-icon text-primary text-xl transition-transform duration-300"><i class="fas fa-chevron-down"></i></span>
            </div>
            <p class="text-white/80 mt-4 faq-content" data-i18n="faq-maintenance-answer">{t('faq-maintenance-answer')}</p>
          </div>
          
          <div class="faq-item bg-secondary/40 rounded-xl p-6 hover:bg-secondary/60 transition-all duration-300 cursor-pointer">
            <div class="flex justify-between items-center">
              <h3 class="text-xl font-bold text-white mb-0" data-i18n="faq-development-process">{t('faq-development-process')}</h3>
              <span class="faq-icon text-primary text-xl transition-transform duration-300"><i class="fas fa-chevron-down"></i></span>
            </div>
            <p class="text-white/80 mt-4 faq-content" data-i18n="faq-development-process-answer">{t('faq-development-process-answer')}</p>
          </div>
          
          <div class="faq-item bg-secondary/40 rounded-xl p-6 hover:bg-secondary/60 transition-all duration-300 cursor-pointer">
            <div class="flex justify-between items-center">
              <h3 class="text-xl font-bold text-white mb-0" data-i18n="faq-payment-methods">{t('faq-payment-methods')}</h3>
              <span class="faq-icon text-primary text-xl transition-transform duration-300"><i class="fas fa-chevron-down"></i></span>
            </div>
            <p class="text-white/80 mt-4 faq-content" data-i18n="faq-payment-methods-answer">{t('faq-payment-methods-answer')}</p>
          </div>
        </div>
      </div>
    </div>
  </section>

  <script>
    // Script para las FAQ
    import { updateTextsForLocale, getUserLocale } from "../utils/i18n";
    
    document.addEventListener('DOMContentLoaded', function() {
      // Initialize with user's preferred language
      const userLocale = getUserLocale();
      if (userLocale) {
        updateTextsForLocale(userLocale);
      }
      
      // FAQ functionality
      const faqItems = document.querySelectorAll('.faq-item');
      
      faqItems.forEach(item => {
        item.addEventListener('click', function() {
          this.classList.toggle('active');
          const answer = this.querySelector('.faq-content');
          if (this.classList.contains('active')) {
            answer.style.maxHeight = answer.scrollHeight + 'px';
            this.querySelector('.faq-icon').style.transform = 'rotate(180deg)';
          } else {
            answer.style.maxHeight = null;
            this.querySelector('.faq-icon').style.transform = 'rotate(0deg)';
          }
        });
      });
    });
  </script>
</BaseLayout>

<style>
  .faq-item p {
    max-height: 0;
    overflow: hidden;
    transition: max-height 0.3s ease-out;
    margin-top: 0;
    opacity: 0;
  }
  
  .faq-item.active p {
    max-height: 1000px;
    transition: max-height 0.5s ease-in;
    opacity: 1;
  }
  
  .faq-content {
    transition: opacity 0.3s ease;
  }
  
  .faq-item {
    border-left: 3px solid transparent;
    transition: all 0.3s ease;
  }
  
  .faq-item:hover {
    border-left-color: var(--color-primary, #00a2ff);
  }
  
  .faq-item.active {
    border-left-color: var(--color-primary, #00a2ff);
    background-color: rgba(0, 162, 255, 0.1);
  }
  
  .shadow-glow {
    box-shadow: 0 0 15px rgba(0, 162, 255, 0.3);
  }
  
  .service-card {
    position: relative;
  }
  
  .service-card::after {
    content: '';
    position: absolute;
    bottom: 0;
    left: 0;
    width: 100%;
    height: 3px;
    background: linear-gradient(90deg, transparent, rgba(0, 162, 255, 0.7), transparent);
    transform: scaleX(0);
    transition: transform 0.4s ease;
  }
  
  .service-card:hover::after {
    transform: scaleX(1);
  }
  
  .faq-icon {
    transition: transform 0.3s ease;
  }
</style>

<script>
  // Add client-side script for service page specific functionality
  import { updateTextsForLocale, getUserLocale } from "../utils/i18n";
  
  document.addEventListener('DOMContentLoaded', function() {
    // Initialize with user's preferred language
    const userLocale = getUserLocale();
    if (userLocale) {
      updateTextsForLocale(userLocale);
    }
  });
</script>
